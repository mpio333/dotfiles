#!/bin/sh

case $BLOCK_BUTTON in
	1) $TERMINAL -e nmtui ;;
	3) pgrep -x dunst >/dev/null && notify-send "<b>Internet module:</b>
- Left click for \`nmtui\` for wifi access
üì°: no wifi connection
üì∂: wifi connection with quality
‚ùé: no ethernet
üåê: ethernet working
" ;;
esac

if [ "$(cat /sys/class/net/w*/operstate)" = 'down' ]
then 
  wifiicon="Ô§¨"
else 
  strength=$(grep ^w /proc/net/wireless | awk '{ print int($3 * 100 / 70) }')
  case $strength in
    100)
      wifiicon="Ô§ß"
      ;;
    [0-1]*)
      wifiicon="Ô§Æ"
      ;;
    [2-3]*)
      wifiicon="Ô§û"
      ;;
    [4-5]*)
      wifiicon="Ô§°"
      ;;
    [6-7]*)
      wifiicon="Ô§§"
      ;;
    [8-9]*)
      wifiicon="Ô§ß"
      ;;
  esac
fi

echo $wifiicon
